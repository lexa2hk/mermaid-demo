

# Система бронирования частных перелетов

Этот документ описывает архитектуру, функциональность и ключевые аспекты разработки системы бронирования частных перелетов. Система поддерживает уникальные возможности, такие как совместное финансирование рейсов и использование мультиагентных систем на базе LLM для персонализированных рекомендаций и прогнозирования.
---

## 1. Структура функциональных возможностей

```mermaid
mindmap
  root((Система бронирования))
    Бронирование
      --> ((Частные рейсы))
        Обычное бронирование
        VIP-сервисы
      --> ((Совместное финансирование))
         Создание пула пользователей
         Отслеживание платежей
    Аналитика
      --> ((LLM-агенты))
        Персонализированные рекомендации
        Оценка маршрутов и цен
      --> ((Прогнозирование))
        Заполнение рейсов
        Оптимизация маршрутов
    Архитектура
      --> ((Клиент-серверное взаимодействие))
        Мобильные клиенты
        Веб-приложение
      --> ((База данных))
        Пользователи
        Маршруты
        Платежи
      --> ((Kafka для обмена сообщениями))
        Уведомления
        Логирование событий
```
Данная диаграмма отображает основные функциональные модули системы, включая бронирование, аналитику, совместное финансирование и архитектуру.

---

## 2. Путешествие пользователя

```mermaid
journey
  title Общий путь пользователя в клиент-серверной системе
  section Вход в систему
    Регистрация: 5: Пользователь
    Авторизация: 4: Пользователь
  section Выбор рейса
    Запрос данных: 5: Система
    Анализ вариантов: 4: Система
    Вывод рейсов: 5: Система
  section Инициализация группы
    Проверка данных: 4: Пользователь
    Подтверждение соглашения: 5: Пользователь
  section Принятие полета
    Подтверждение рейса: 5: Пилот
    Информации о пассажирах: 4: Система
  section Выполнение действий
    Подтверждение рейса: 5: Пользователь
    Генерация билета: 4: Система
    Отправка билета: 5: Система
  section Завершение сессии
    Сохранение данных: 5: Система
    Выход из системы: 4: Пользователь

```
Диаграмма показывает процесс взаимодействия пользователя с системой от регистрации до получения билета.

---

## 3. Архитектура системы

```mermaid
graph TD
    Клиент --> Фронтенд
    Фронтенд --> API
    API --> СервисАвторизации
    API --> МодульБронирования
    API --> МодульФинансирования
    МодульФинансирования --> Redis
    МодульБронирования --> Kafka
    Kafka --> МикросервисЛогирования
    Kafka --> МикросервисАналитики
    МикросервисАналитики --> LLM
    LLM --> Персонализация
    LLM --> Прогнозирование
    БазаДанных --> API
    API --> Логи
    Логи --> Graylog
```


Диаграмма демонстрирует архитектуру системы, включая взаимодействие между модулями, кэшем, LLM и Kafka.

---

## 4. Этапы разработки (диаграмма Ганта)

```mermaid
gantt
  title Этапы разработки системы бронирования
  dateFormat  YYYY-MM-DD
  section Анализ и проектирование
    Сбор требований          :done,    2024-10-01, 2024-10-15
    Проектирование архитектуры:active,  2024-10-16, 2024-11-15
  section Разработка
    Разработка фронтенда     :done,    2024-11-16, 2024-12-31
    Реализация API           :active,  2024-12-01, 2025-01-31
    Модуль LLM               :        2025-02-01, 2025-03-15
  section Тестирование
    Тестирование системы     :        2025-03-16, 2025-04-15
  section Внедрение
    Развертывание в продакшен:        2025-04-16, 2025-04-30

```


План разработки включает этапы анализа, проектирования, реализации и тестирования системы.

---

## 5. Квадрант граф

```mermaid
quadrantChart
    title Квадрантный граф: анализ функциональности системы
    x-axis "Низкая сложность" --> "Высокая сложность"
    y-axis "Низкий приоритет" --> "Высокий приоритет"
    quadrant-1 "Реализовать немедленно"
    quadrant-2 "В ближайшее время"
    quadrant-3 "Рассмотреть отказ"
    quadrant-4 "Тщательный анализ"

    "Реализация системы бронирования" : [0.1, 0.9]
    "Интерфейс пользователя" : [0.2, 0.76]
    "Реализация интеграции с платежной системой" : [0.6, 0.7]
    "Подключение к LLM для персонализации" : [0.8, 0.9]
    "Оптимизация маршрутов" : [0.7, 0.6]
    "Модуль анализа больших данных" : [0.76, 0.2]
    "Модуль отчетности" : [0.8, 0.4]
    "Поддержка мульти-агентных систем" : [0.4, 0.5]
    "Система безопасности и защиты данных" : [0.5, 0.8]
    "Тестирование системы" : [0.2, 0.3]

```

## 6. Гит граф

```mermaid
gitGraph
    commit id:"Начало проекта"
    branch dev
    commit id:"Анализ требований"
    commit id:"Проектирование системы"
    commit id:"Разработка интерфейса пользователя"
    checkout dev
    commit id:"Реализация системы бронирования"
    commit id:"Интеграция с платежной системой"
        checkout main
    merge dev
    checkout dev
    commit id:"Подключение к LLM для персонализации"
    commit id:"Оптимизация маршрутов"
    checkout dev
    commit id:"Разработка модуля отчетности"
    commit id:"Разработка системы безопасности"
    commit id:"Модуль анализа больших данных"
        checkout main
    merge dev
    checkout dev
    commit id:"Тестирование системы"
    commit id:"Поддержка мульти-агентных систем"
    checkout dev
    commit id:"Отказ от некоторых функций"
    commit id:"Готовность к релизу"
    checkout main
    merge dev
    checkout main
    commit id:"Релиз 1.0"
    branch release
    commit id:"Деплой в продакшен"


```

**Описание:**  
Диаграмма описывает последовательность взаимодействий между клиентом, API, базой данных, LLM и Kafka.

---
